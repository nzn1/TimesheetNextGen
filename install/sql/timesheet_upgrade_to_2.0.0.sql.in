-- new fields
ALTER TABLE __TABLE_PREFIX__user  ADD   employee_type enum('Contractor','Employee') NOT NULL DEFAULT 'Employee';
ALTER TABLE __TABLE_PREFIX__user  ADD supervisor int(11) DEFAULT NULL;
ALTER TABLE __TABLE_PREFIX__times  ADD status enum('Open','Submitted','Approved') NOT NULL DEFAULT 'Open';

-- new configuration parameters
insert into __TABLE_PREFIX__configuration values ('aclExpenses', 'Basic');
insert into __TABLE_PREFIX__configuration values ('aclECategories', 'Mgr');
insert into __TABLE_PREFIX__configuration values ('aclTApproval', 'Mgr'));

--
-- Table structure for table `expense`
--

CREATE TABLE IF NOT EXISTS `__TABLE_PREFIX__expense` (
  `eid` int(5) NOT NULL AUTO_INCREMENT,
  `cat_id` int(5) DEFAULT NULL,
  `proj_id` int(11) DEFAULT NULL,
  `user_id` varchar(32) DEFAULT NULL,
  `client_id` int(8) DEFAULT NULL,
  `billable` enum('Billable','Internal','Personal') DEFAULT 'Billable',
  `amount` decimal(8,2) NOT NULL DEFAULT '0.00',
  `description` varchar(64) DEFAULT NULL,
  `date` datetime DEFAULT NULL,
  `status` enum('Open','Submitted','Approved') NOT NULL DEFAULT 'Open',
  PRIMARY KEY (`eid`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=17 ;

--
-- Table structure for table `expense_category`
--

CREATE TABLE IF NOT EXISTS `__TABLE_PREFIX__category` (
  `cat_id` int(8) NOT NULL AUTO_INCREMENT,
  `cat_name` varchar(64) NOT NULL,
  `cat_description` varchar(256) NOT NULL,
  PRIMARY KEY (`cat_id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 COMMENT='__TABLE_PREFIX_expense_category' AUTO_INCREMENT=8 ;

--
-- Table structure for table `tsx_std_tasks`
--

CREATE TABLE IF NOT EXISTS `__TABLE_PREFIX__std_tasks` (
  `task_id` int(8) NOT NULL AUTO_INCREMENT,
  `name` varchar(127) DEFAULT NULL,
  `description` text,
  PRIMARY KEY (`task_id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=187 ;
